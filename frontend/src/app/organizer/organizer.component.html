<nav>
  <div class="logo">
    <img src="/assets/logo.png" class="nav-logo">
  </div>
  <div class="nav-right">
    <div class="links">
      <a routerLink="" (click)="logout()">Logout</a>
    </div>
    <div>
      <img src="/assets/menu.png" class="nav-profile nav-button">
      <div class="dropdown">
        <a routerLink="/changePassword">Change password</a>
        <a routerLink="/organizerProfile">View profile</a>
        <a routerLink="/organizer">Studios</a>
        <a routerLink="/becomeOrganizer">Add studio</a>
      </div>
    </div>
  </div>
</nav>

<div class="content">
  <h2>Studios</h2>
  <table>
    <tr>
      <th>Picture</th>
      <th>Name</th>
      <th>Date</th>
      <th>Adress</th>
      <th>Description</th>
    </tr>
    <tr *ngFor='let s of studios'>
      <td style="background-color: white; border: none;">
        <!--slika-->
        <img src={{s.icon}} style="width: 100px; height: 100px;">
      </td>
      <td>{{s.name}}</td>
      <td>{{stringAsDate(s.date)}}</td>
      <td>{{s.address}}</td>
      <td>{{s.description}}</td>
      <td *ngIf="user.username == s.user" style="background-color: white; border: none;">
        <button (click)="updateStudio(s)" class="button td-button">Update</button>
        <button (click)="saveJSON(s)" class="button td-button">Save JSON</button>
      </td>
    </tr>
  </table>

  <h2>Applications</h2>
  <table>
    <tr>
      <th>Email</th>
      <th>Studio</th>
    </tr>
    <tr *ngFor='let p of participants'>
      <td>{{p.user_email}}</td>
      <td>{{p.studio}}</td>
      <td style="background-color: white; border: none;">
        <button (click)="approve(p)" class="button td-button">Approve</button>
        <button (click)="reject(p)" class="button td-button">Reject</button>
      </td>
    </tr>
  </table>
  <span class="error">
    {{message}}
  </span>
  <span class="success">
    {{successMessage}}
  </span>
</div>

<div class="footer footer-fixed">
  <small>
      Copyright &copy; 2023, Slavica Mitrovic, University of Belgrade, School of Electrical Engineering
  </small>
</div>
